# ==================================================================
# MediLink Backend Environment Configuration
# ==================================================================
# Copy this file to .env and fill in your own values
# NEVER commit .env to git - it contains secrets!
# ==================================================================

# ------------------------------------------------------------------
# Core Application
# ------------------------------------------------------------------
APP_ENV=development
# Generate a secure random key: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY="your-secure-random-key-here"
JWT_ALGORITHM="HS256"

# ------------------------------------------------------------------
# Email (Gmail with App Password)
# ------------------------------------------------------------------
# Use your Gmail address
SENDER_EMAIL="your-email@gmail.com"
# Create App Password: Google Account > Security > 2FA > App Passwords
SENDER_PASSWORD="your-16-char-app-password"

# ------------------------------------------------------------------
# Database / Cloud SQL
# ------------------------------------------------------------------
# Format: PROJECT_ID:REGION:INSTANCE_NAME
INSTANCE_CONNECTION_NAME="your-project-id:us-central1:your-instance-name"
DB_USER="postgres"
DB_PASSWORD="your-database-password"
DB_NAME="medilink"
USE_PRIVATE_IP=false
# Format: postgresql+asyncpg://USER:PASSWORD@IP:5432/DB_NAME
# Note: URL-encode special characters in password (% = %25, $ = %24, etc.)
ASYNC_DATABASE_URL="postgresql+asyncpg://postgres:your-password@YOUR-DB-IP:5432/medilink"

# ------------------------------------------------------------------
# Google Application Default Credentials (Service Account)
# ------------------------------------------------------------------
# Paste your service account JSON as a single line
# Get this from: GCP Console > IAM > Service Accounts > Create Key > JSON
GOOGLE_APPLICATION_CREDENTIALS_JSON='{"type":"service_account","project_id":"your-project-id",...}'

# ------------------------------------------------------------------
# Google OAuth (for user login)
# ------------------------------------------------------------------
# Get from: GCP Console > APIs & Services > Credentials > OAuth 2.0 Client IDs
GOOGLE_OAUTH_CLIENT_ID="your-client-id.apps.googleusercontent.com"
GOOGLE_OAUTH_CLIENT_SECRET="your-client-secret"
GOOGLE_OAUTH_REDIRECT_URI="https://your-production-domain.com/api/auth/google/callback"
GOOGLE_OAUTH_DEV_REDIRECT_URI="http://localhost:8000/auth/google/callback"
GOOGLE_OAUTH_SCOPES="https://www.googleapis.com/auth/calendar.readonly"
# Full OAuth client JSON (single line)
GOOGLE_OAUTH_CLIENT_JSON='{"web":{"client_id":"...","project_id":"...","auth_uri":"...","token_uri":"...","client_secret":"...","redirect_uris":["..."]}}'

# ------------------------------------------------------------------
# Google Calendar (Service Account)
# ------------------------------------------------------------------
# Same service account JSON as above, or a dedicated one for calendar
GOOGLE_SERVICE_ACCOUNT_CREDENTIALS_JSON='{"type":"service_account",...}'
GOOGLE_SERVICE_ACCOUNT_CALENDAR_ID=""
GOOGLE_HOLIDAYS_CALENDAR_ID="en.usa#holiday@group.v.calendar.google.com"

# ------------------------------------------------------------------
# Google Cloud Storage
# ------------------------------------------------------------------
GCP_PROJECT_ID="your-project-id"
GCP_BUCKET_NAME="your-bucket-name"
USE_DEFAULT_CREDENTIALS=false
# Service account JSON with Storage permissions
GCP_STORAGE_KEY_JSON='{"type":"service_account",...}'

# ------------------------------------------------------------------
# Google Maps / Places
# ------------------------------------------------------------------
# Get from: GCP Console > APIs & Services > Credentials > API Keys
GOOGLE_MAPS_API_KEY="your-google-maps-api-key"
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY="your-google-maps-api-key"

# ------------------------------------------------------------------
# Redis (for caching/sessions)
# ------------------------------------------------------------------
REDIS_HOST="localhost"
REDIS_PORT=6379
# Optional - only if your Redis requires authentication
# REDIS_PASSWORD=""
# REDIS_URL=""
# REDIS_DB=0

# ------------------------------------------------------------------
# OpenAI (for AI Assistant)
# ------------------------------------------------------------------
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-your-openai-api-key"

# ------------------------------------------------------------------
# CORS (for production)
# ------------------------------------------------------------------
# Comma-separated list of allowed origins (in addition to localhost)
CORS_ALLOW_ORIGINS="https://your-vercel-app.vercel.app"
