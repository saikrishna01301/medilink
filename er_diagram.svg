<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1120 780">
  <defs>
    <style>
      text { font-family: "Inter", "Helvetica Neue", Arial, sans-serif; font-size: 14px; fill: #1f2933; }
      rect { fill: #fff; stroke: #2563eb; stroke-width: 2; rx: 8; ry: 8; }
      .cluster rect { fill: #f3f4f6; stroke: #9ca3af; stroke-width: 2; rx: 12; ry: 12; }
      .cluster-label { font-size: 16px; font-weight: 600; fill: #111827; }
      .entity rect { fill: #ffffff; }
      .link { stroke: #111827; stroke-width: 2; fill: none; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 z" fill="#111827"/>
    </marker>
  </defs>

  <!-- Identity Cluster -->
  <g class="cluster">
    <rect x="20" y="10" width="240" height="410" />
    <text class="cluster-label" x="30" y="40">Identity</text>
  </g>
  <g class="entity">
    <rect x="40" y="60" width="200" height="60"/>
    <text x="140" y="97" text-anchor="middle">users</text>
  </g>
  <g class="entity">
    <rect x="40" y="150" width="200" height="60"/>
    <text x="140" y="187" text-anchor="middle">sessions</text>
  </g>
  <g class="entity">
    <rect x="40" y="240" width="200" height="60"/>
    <text x="140" y="277" text-anchor="middle">otp_store</text>
  </g>
  <g class="entity">
    <rect x="40" y="330" width="200" height="60"/>
    <text x="140" y="367" text-anchor="middle">doctor_profiles</text>
  </g>

  <!-- Scheduling Cluster -->
  <g class="cluster">
    <rect x="280" y="10" width="240" height="320" />
    <text class="cluster-label" x="290" y="40">Scheduling</text>
  </g>
  <g class="entity">
    <rect x="300" y="60" width="200" height="60"/>
    <text x="400" y="97" text-anchor="middle">appointments</text>
  </g>
  <g class="entity">
    <rect x="300" y="150" width="200" height="60"/>
    <text x="400" y="187" text-anchor="middle">patient_doctor_relationships</text>
  </g>
  <g class="entity">
    <rect x="300" y="240" width="200" height="60"/>
    <text x="400" y="277" text-anchor="middle">patient_insurance</text>
  </g>

  <!-- Document Hub Cluster -->
  <g class="cluster">
    <rect x="540" y="10" width="240" height="380" />
    <text class="cluster-label" x="550" y="40">Document Hub</text>
  </g>
  <g class="entity">
    <rect x="560" y="60" width="200" height="60"/>
    <text x="660" y="97" text-anchor="middle">stored_documents</text>
  </g>
  <g class="entity">
    <rect x="560" y="150" width="200" height="60"/>
    <text x="660" y="187" text-anchor="middle">digital_signatures</text>
  </g>
  <g class="entity">
    <rect x="560" y="240" width="200" height="60"/>
    <text x="660" y="277" text-anchor="middle">document_links</text>
  </g>

  <!-- Patient Records Cluster -->
  <g class="cluster">
    <rect x="800" y="10" width="280" height="470" />
    <text class="cluster-label" x="810" y="40">Patient Records</text>
  </g>
  <g class="entity">
    <rect x="820" y="60" width="240" height="60"/>
    <text x="940" y="97" text-anchor="middle">patient_documents</text>
  </g>
  <g class="entity">
    <rect x="820" y="150" width="240" height="60"/>
    <text x="940" y="187" text-anchor="middle">patient_insurance_policies</text>
  </g>
  <g class="entity">
    <rect x="820" y="240" width="240" height="60"/>
    <text x="940" y="277" text-anchor="middle">patient_lab_reports</text>
  </g>
  <g class="entity">
    <rect x="820" y="330" width="240" height="60"/>
    <text x="940" y="367" text-anchor="middle">patient_prescription_records</text>
  </g>
  <g class="entity">
    <rect x="820" y="420" width="240" height="60"/>
    <text x="940" y="457" text-anchor="middle">patient_financial_documents</text>
  </g>

  <!-- Doctor Career Cluster -->
  <g class="cluster">
    <rect x="280" y="430" width="800" height="320" />
    <text class="cluster-label" x="290" y="460">Doctor Career</text>
  </g>
  <g class="entity">
    <rect x="300" y="480" width="200" height="60"/>
    <text x="400" y="517" text-anchor="middle">doctor_education_history</text>
  </g>
  <g class="entity">
    <rect x="560" y="480" width="200" height="60"/>
    <text x="660" y="517" text-anchor="middle">doctor_employment_history</text>
  </g>
  <g class="entity">
    <rect x="820" y="480" width="240" height="60"/>
    <text x="940" y="517" text-anchor="middle">doctor_certifications</text>
  </g>
  <g class="entity">
    <rect x="300" y="570" width="200" height="60"/>
    <text x="400" y="607" text-anchor="middle">doctor_publications</text>
  </g>
  <g class="entity">
    <rect x="560" y="570" width="200" height="60"/>
    <text x="660" y="607" text-anchor="middle">doctor_awards</text>
  </g>
  <g class="entity">
    <rect x="820" y="570" width="240" height="60"/>
    <text x="940" y="607" text-anchor="middle">doctor_memberships</text>
  </g>
  <g class="entity">
    <rect x="560" y="660" width="200" height="60"/>
    <text x="660" y="697" text-anchor="middle">doctor_media_assets</text>
  </g>

  <!-- Identity relationships -->
  <path class="link" marker-end="url(#arrow)" d="M140 120 L140 150"/>
  <path class="link" marker-end="url(#arrow)" d="M140 210 L140 240"/>
  <path class="link" marker-end="url(#arrow)" d="M140 300 L140 330"/>

  <!-- Users to Scheduling -->
  <path class="link" marker-end="url(#arrow)" d="M240 90 L300 90"/>
  <path class="link" marker-end="url(#arrow)" d="M240 180 L300 180"/>
  <path class="link" marker-end="url(#arrow)" d="M240 270 L300 270"/>

  <!-- Users to Document Hub -->
  <path class="link" marker-end="url(#arrow)" d="M240 90 C300 90, 300 60, 560 90"/>
  <path class="link" marker-end="url(#arrow)" d="M140 330 C140 360, 520 360, 560 180"/>

  <!-- Stored documents downstream -->
  <path class="link" marker-end="url(#arrow)" d="M660 120 L660 150"/>
  <path class="link" marker-end="url(#arrow)" d="M660 210 L660 240"/>

  <!-- Users to Patient Records -->
  <path class="link" marker-end="url(#arrow)" d="M240 90 C340 30, 740 30, 820 90"/>
  <path class="link" marker-end="url(#arrow)" d="M240 270 C340 330, 740 330, 820 360"/>

  <!-- Stored documents to patient artifacts -->
  <path class="link" marker-end="url(#arrow)" d="M760 90 L820 90"/>
  <path class="link" marker-end="url(#arrow)" d="M760 180 L820 180"/>
  <path class="link" marker-end="url(#arrow)" d="M760 180 C820 220, 820 260, 820 270"/>
  <path class="link" marker-end="url(#arrow)" d="M760 180 C840 260, 840 350, 820 360"/>
  <path class="link" marker-end="url(#arrow)" d="M760 180 C860 300, 860 450, 820 450"/>

  <!-- Appointments to downstream -->
  <path class="link" marker-end="url(#arrow)" d="M500 90 L560 90"/>
  <path class="link" marker-end="url(#arrow)" d="M500 90 C580 90, 580 350, 820 360"/>
  <path class="link" marker-end="url(#arrow)" d="M500 90 C600 90, 620 400, 820 450"/>

  <!-- Doctor profile bus -->
  <path class="link" d="M240 360 L280 360 L280 720"/>
  <path class="link" marker-end="url(#arrow)" d="M280 510 L300 510"/>
  <path class="link" marker-end="url(#arrow)" d="M280 600 L300 600"/>
  <path class="link" marker-end="url(#arrow)" d="M280 690 L560 690"/>

  <!-- Bus to doctor tables -->
  <path class="link" marker-end="url(#arrow)" d="M280 510 L280 510"/>
  <path class="link" marker-end="url(#arrow)" d="M280 510 C360 510, 360 510, 300 510"/>
  <path class="link" marker-end="url(#arrow)" d="M280 510 C360 510, 360 510, 560 510"/>
  <path class="link" marker-end="url(#arrow)" d="M280 510 C360 510, 360 510, 820 510"/>
  <path class="link" marker-end="url(#arrow)" d="M280 600 C360 600, 360 600, 300 600"/>
  <path class="link" marker-end="url(#arrow)" d="M280 600 C360 600, 360 600, 560 600"/>
  <path class="link" marker-end="url(#arrow)" d="M280 600 C360 600, 360 600, 820 600"/>

  <!-- Doctor media asset connection -->
  <path class="link" marker-end="url(#arrow)" d="M280 690 C420 690, 420 690, 560 690"/>

  <!-- Users to digital signatures -->
  <path class="link" marker-end="url(#arrow)" d="M240 330 C360 420, 580 270, 560 210"/>
</svg>

